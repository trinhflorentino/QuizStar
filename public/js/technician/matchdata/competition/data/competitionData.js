const a0_0x68fa10=a0_0x22ee;(function(_0x5f0a81,_0x2f9c8c){const _0x15782c=a0_0x22ee,_0x45cc09=_0x5f0a81();while(!![]){try{const _0x26d711=parseInt(_0x15782c(0x1bf))/0x1+parseInt(_0x15782c(0x177))/0x2+-parseInt(_0x15782c(0x16c))/0x3+parseInt(_0x15782c(0x1b3))/0x4+-parseInt(_0x15782c(0x1e6))/0x5*(parseInt(_0x15782c(0x1e7))/0x6)+-parseInt(_0x15782c(0x190))/0x7*(parseInt(_0x15782c(0x1d1))/0x8)+-parseInt(_0x15782c(0x19c))/0x9;if(_0x26d711===_0x2f9c8c)break;else _0x45cc09['push'](_0x45cc09['shift']());}catch(_0xe34cfb){_0x45cc09['push'](_0x45cc09['shift']());}}}(a0_0x19e5,0xca00e));let isEditing=![],currentPlayers=[],currentBlockedPlayers=[],pendingRequests=[],lastKnownPlayerData={};const editButton=document[a0_0x68fa10(0x199)]('editButton'),confirmButton=document[a0_0x68fa10(0x199)](a0_0x68fa10(0x192)),playersList=document['getElementById'](a0_0x68fa10(0x1af)),blockedList=document[a0_0x68fa10(0x199)]('blockedList'),playerTemplate=document[a0_0x68fa10(0x199)]('playerTemplate'),blockedPlayerTemplate=document[a0_0x68fa10(0x199)](a0_0x68fa10(0x198));function debounce(_0x5bf2a8,_0x10dc26){let _0x33b65c;return function _0x1182be(..._0xaa775e){const _0x4882cd=()=>{clearTimeout(_0x33b65c),_0x5bf2a8(..._0xaa775e);};clearTimeout(_0x33b65c),_0x33b65c=setTimeout(_0x4882cd,_0x10dc26);};}function cachePlayerData(){const _0x8967fe=a0_0x68fa10;lastKnownPlayerData=currentPlayers[_0x8967fe(0x17f)]((_0x2badf0,_0x3d3ea2)=>{const _0x499921=_0x8967fe;return _0x2badf0[_0x3d3ea2['id']]={'name':_0x3d3ea2[_0x499921(0x1b4)],'points':_0x3d3ea2[_0x499921(0x1c1)]},_0x2badf0;},{});}auth[a0_0x68fa10(0x19a)](_0x28a828=>{const _0x260f70=a0_0x68fa10;if(!_0x28a828)return;const _0x43f18f=firestoreDB['collection'](_0x260f70(0x16a))[_0x260f70(0x1a9)](auth['currentUser'][_0x260f70(0x17b)]);_0x43f18f[_0x260f70(0x17e)](_0x36ceda=>{const _0x5dd81e=_0x260f70;if(!_0x36ceda[_0x5dd81e(0x1e8)])return;const _0x435d92=_0x36ceda[_0x5dd81e(0x1ae)]()[_0x5dd81e(0x16a)],_0x40ba77=_0x28a828['uid'];setupPlayersListener(_0x435d92),setupParticipantsListener(_0x435d92),setupMatchInfo(_0x435d92);});});function setupMatchInfo(_0x2272fe){const _0x76566d=a0_0x68fa10,_0x241f2a=realtimeDB[_0x76566d(0x1e2)](_0x2272fe+_0x76566d(0x179)),_0x1afd2a=realtimeDB['ref'](_0x2272fe+_0x76566d(0x1c4));_0x241f2a['on'](_0x76566d(0x1e5),_0x96c5e9=>{const _0x78076b=_0x76566d;document['getElementById'](_0x78076b(0x1a7))[_0x78076b(0x1b2)]=_0x96c5e9[_0x78076b(0x1a0)](),document[_0x78076b(0x199)](_0x78076b(0x1d7))[_0x78076b(0x1b2)]=_0x96c5e9[_0x78076b(0x1a0)]();}),_0x1afd2a['on'](_0x76566d(0x1e5),_0x392f50=>{const _0xcb7cbc=_0x76566d;document[_0xcb7cbc(0x199)](_0xcb7cbc(0x1ca))['textContent']='Được\x20tổ\x20chức\x20bởi\x20'+_0x392f50[_0xcb7cbc(0x1a0)]();});}async function setupPlayersListener(_0xf1c659){const _0x246152=a0_0x68fa10;currentPlayers=[];const _0x3b5cfa=getPlayerLimit();for(let _0x422ae9=0x1;_0x422ae9<=_0x3b5cfa;_0x422ae9++){const _0x65b22f=realtimeDB[_0x246152(0x1e2)](_0xf1c659+_0x246152(0x1b7)+_0x422ae9),_0x57a2d6=realtimeDB[_0x246152(0x1e2)](_0xf1c659+'/games/player'+_0x422ae9);_0x57a2d6['on'](_0x246152(0x1e5),async _0x3080b2=>{const _0x2ab19d=_0x246152,_0x484dfd=_0x3080b2[_0x2ab19d(0x1a0)]();_0x484dfd?.[_0x2ab19d(0x17b)]?_0x65b22f['on'](_0x2ab19d(0x1e5),_0x5aace4=>{const _0x200ed8=_0x2ab19d,_0x4de0c2=firebase[_0x200ed8(0x17a)]()[_0x200ed8(0x1e2)](_0x200ed8(0x1b1)+_0x484dfd[_0x200ed8(0x17b)]+_0x200ed8(0x170));_0x4de0c2[_0x200ed8(0x172)]()[_0x200ed8(0x19f)](_0x4beb3b=>{const _0x700173=_0x200ed8;updatePlayer(_0x422ae9,{'id':_0x422ae9,'name':_0x484dfd['displayName'],'uid':_0x484dfd[_0x700173(0x17b)],'points':_0x5aace4[_0x700173(0x1a0)]()?.[_0x700173(0x173)]||0x0,'image':_0x4beb3b});})[_0x200ed8(0x182)](()=>{const _0x5229e6=_0x200ed8;firebase['storage']()['ref']('users/profile.jpg')[_0x5229e6(0x172)]()[_0x5229e6(0x19f)](_0x2d631b=>{const _0x1608cf=_0x5229e6;updatePlayer(_0x422ae9,{'id':_0x422ae9,'name':_0x484dfd[_0x1608cf(0x1a8)],'uid':_0x484dfd[_0x1608cf(0x17b)],'points':_0x5aace4[_0x1608cf(0x1a0)]()?.[_0x1608cf(0x173)]||0x0,'image':_0x2d631b});});});}):removePlayer(_0x422ae9);});}}function setupParticipantsListener(_0x5a1dd6){const _0x5a2678=a0_0x68fa10,_0x250f84=realtimeDB['ref'](_0x5a1dd6+_0x5a2678(0x194));_0x250f84['on'](_0x5a2678(0x1e5),_0x3f1126=>{const _0x4b5d34=_0x5a2678;currentBlockedPlayers=[],pendingRequests=[];const _0x4593bf=[];_0x3f1126[_0x4b5d34(0x1c0)](_0x7987cb=>{const _0xa7c46a=_0x4b5d34,_0x591a1b={'id':_0x7987cb[_0xa7c46a(0x1ce)],..._0x7987cb['val']()};_0x591a1b['uid']&&firebase['storage']()[_0xa7c46a(0x1e2)](_0xa7c46a(0x1b1)+_0x591a1b[_0xa7c46a(0x17b)]+'/profile.jpg')['getDownloadURL']()[_0xa7c46a(0x19f)](_0x30682d=>{const _0x465b0f=_0xa7c46a;_0x591a1b[_0x465b0f(0x1d6)]=_0x30682d;if(_0x591a1b[_0x465b0f(0x175)]===0x0)renderPendingRequests();else{if(_0x591a1b[_0x465b0f(0x175)]===0x3)renderBlockedPlayers();else _0x591a1b['requestStatus']===0x1&&renderViewers(_0x4593bf);}})['catch'](()=>{const _0x425dee=_0xa7c46a;firebase['storage']()[_0x425dee(0x1e2)](_0x425dee(0x1bd))[_0x425dee(0x172)]()[_0x425dee(0x19f)](_0x25ecab=>{const _0x593aec=_0x425dee;_0x591a1b[_0x593aec(0x1d6)]=_0x25ecab;});});if(_0x591a1b['requestStatus']===0x0)pendingRequests[_0xa7c46a(0x180)](_0x591a1b);else{if(_0x591a1b[_0xa7c46a(0x175)]===0x3)currentBlockedPlayers['push'](_0x591a1b);else _0x591a1b['requestStatus']===0x1&&_0x4593bf[_0xa7c46a(0x180)](_0x591a1b);}}),renderPendingRequests(),renderBlockedPlayers(),renderViewers(_0x4593bf);});}function a0_0x22ee(_0x3e2902,_0x5998b5){const _0x19e5ff=a0_0x19e5();return a0_0x22ee=function(_0x22ee08,_0x2377ad){_0x22ee08=_0x22ee08-0x16a;let _0x2754e8=_0x19e5ff[_0x22ee08];return _0x2754e8;},a0_0x22ee(_0x3e2902,_0x5998b5);}function renderViewers(_0x419def){const _0x3626d8=a0_0x68fa10,_0x31b8fd=document[_0x3626d8(0x199)]('viewersList');_0x31b8fd['innerHTML']=_0x3626d8(0x1c9);if(_0x419def['length']===0x0){const _0x58b2f7=document[_0x3626d8(0x181)]('p');_0x58b2f7['className']='text-gray-500\x20dark:text-gray-400',_0x58b2f7['textContent']='Không\x20có\x20người\x20xem\x20nào',_0x31b8fd[_0x3626d8(0x1a2)](_0x58b2f7);return;}_0x419def[_0x3626d8(0x1c0)](_0x4cad53=>{const _0x2ae30d=_0x3626d8,_0x39b117=document[_0x2ae30d(0x199)]('viewerTemplate')[_0x2ae30d(0x1dd)][_0x2ae30d(0x18f)](!![]);_0x39b117[_0x2ae30d(0x18a)](_0x2ae30d(0x1da))[_0x2ae30d(0x1b2)]=_0x4cad53['displayName'],_0x39b117[_0x2ae30d(0x18a)](_0x2ae30d(0x1cc))[_0x2ae30d(0x186)]=()=>handleKickViewer(_0x4cad53),_0x39b117[_0x2ae30d(0x18a)]('.block-viewer-button')[_0x2ae30d(0x186)]=()=>handleBlockViewer(_0x4cad53),_0x31b8fd[_0x2ae30d(0x1a2)](_0x39b117);});}async function handleKickViewer(_0x2865fb){const _0x49c6bc=a0_0x68fa10;try{const _0x32479d=firestoreDB['collection'](_0x49c6bc(0x16a))['doc'](auth[_0x49c6bc(0x1ac)][_0x49c6bc(0x17b)]),_0x5ebcc7=await _0x32479d[_0x49c6bc(0x178)](),_0x1a07d9=_0x5ebcc7[_0x49c6bc(0x1ae)]()[_0x49c6bc(0x16a)];await realtimeDB['ref'](_0x1a07d9+_0x49c6bc(0x1cb)+_0x2865fb['id'])['remove'](),successToast(_0x49c6bc(0x197));}catch(_0x373773){console[_0x49c6bc(0x1b9)]('Error\x20kicking\x20viewer:',_0x373773),failToast('Đã\x20xảy\x20ra\x20lỗi\x20khi\x20kick\x20người\x20xem');}}async function handleBlockViewer(_0x458474){const _0x3fa8bf=a0_0x68fa10;try{const _0x1862e4=firestoreDB['collection'](_0x3fa8bf(0x16a))[_0x3fa8bf(0x1a9)](auth['currentUser']['uid']),_0x3f8fc9=await _0x1862e4[_0x3fa8bf(0x178)](),_0x5c6044=_0x3f8fc9['data']()[_0x3fa8bf(0x16a)];await realtimeDB[_0x3fa8bf(0x1e2)](_0x5c6044+_0x3fa8bf(0x1cb)+_0x458474['id'])['update']({'requestStatus':0x3}),successToast(_0x3fa8bf(0x19e));}catch(_0x1b11cd){console['error'](_0x3fa8bf(0x1dc),_0x1b11cd),failToast(_0x3fa8bf(0x18b));}}function updatePlayer(_0x77e77e,_0x134f85){const _0x27aeb0=a0_0x68fa10,_0x134e37=currentPlayers[_0x27aeb0(0x193)](_0x38ae56=>_0x38ae56['id']===_0x77e77e);_0x134e37!==-0x1?currentPlayers[_0x134e37]=_0x134f85:currentPlayers[_0x27aeb0(0x180)](_0x134f85),renderPlayers();}function removePlayer(_0x5a4124){currentPlayers=currentPlayers['filter'](_0xc76fa0=>_0xc76fa0['id']!==_0x5a4124),renderPlayers();}const renderPlayers=debounce(()=>{const _0xc78126=a0_0x68fa10,_0x234241=[...currentPlayers][_0xc78126(0x1a1)]((_0x1053fd,_0x5056dd)=>_0x1053fd['id']-_0x5056dd['id']),_0x1e1f86=document[_0xc78126(0x1bc)]();_0x234241[_0xc78126(0x1c0)](_0x2bf010=>{const _0x8a6fe5=_0xc78126,_0x58dfff=playerTemplate[_0x8a6fe5(0x1dd)]['cloneNode'](!![]),_0x459152=_0x58dfff[_0x8a6fe5(0x18a)](_0x8a6fe5(0x17c));_0x459152[_0x8a6fe5(0x1df)][_0x8a6fe5(0x1a3)]=_0x2bf010['id'];const _0x4f98cf=_0x58dfff[_0x8a6fe5(0x18a)]('.player-name'),_0x2eefc9=_0x58dfff[_0x8a6fe5(0x18a)]('.player-points'),_0x2f4ebf=_0x58dfff['querySelector'](_0x8a6fe5(0x176));if(isEditing){const _0x190d1f=document['createElement'](_0x8a6fe5(0x17d));_0x190d1f[_0x8a6fe5(0x1bb)]=_0x8a6fe5(0x1c2),_0x190d1f[_0x8a6fe5(0x1e5)]=_0x2bf010['name'],_0x190d1f[_0x8a6fe5(0x16b)]='border\x20rounded\x20px-2\x20py-1\x20dark:bg-neutral-700\x20dark:text-white',_0x190d1f[_0x8a6fe5(0x1df)]['originalValue']=_0x2bf010[_0x8a6fe5(0x1b4)];const _0xb0d4ce=document['createElement'](_0x8a6fe5(0x17d));_0xb0d4ce[_0x8a6fe5(0x1bb)]=_0x8a6fe5(0x1c7),_0xb0d4ce[_0x8a6fe5(0x1e5)]=_0x2bf010['points'],_0xb0d4ce[_0x8a6fe5(0x16b)]=_0x8a6fe5(0x1b0),_0xb0d4ce['dataset'][_0x8a6fe5(0x185)]=_0x2bf010['points'],_0x190d1f[_0x8a6fe5(0x1d4)](_0x8a6fe5(0x1de),()=>{const _0x5c3253=_0x8a6fe5;_0x2bf010['name']=_0x190d1f[_0x5c3253(0x1e5)];}),_0xb0d4ce[_0x8a6fe5(0x1d4)](_0x8a6fe5(0x1de),()=>{const _0x251e43=_0x8a6fe5;_0x2bf010['points']=Number(_0xb0d4ce[_0x251e43(0x1e5)]);}),_0x4f98cf[_0x8a6fe5(0x1d0)](_0x190d1f),_0x2eefc9['replaceWith'](_0xb0d4ce),_0x58dfff[_0x8a6fe5(0x18a)](_0x8a6fe5(0x16f))[_0x8a6fe5(0x1aa)][_0x8a6fe5(0x19b)]=_0x8a6fe5(0x184);}else{const _0x55bcd7=lastKnownPlayerData[_0x2bf010['id']];_0x4f98cf[_0x8a6fe5(0x1b2)]=_0x55bcd7?_0x55bcd7[_0x8a6fe5(0x1b4)]:_0x2bf010[_0x8a6fe5(0x1b4)],_0x2eefc9[_0x8a6fe5(0x1b2)]=_0x55bcd7?_0x55bcd7[_0x8a6fe5(0x1c1)]:_0x2bf010[_0x8a6fe5(0x1c1)];const _0x3be9b2=_0x58dfff['querySelector']('.kick-button'),_0x40fc78=_0x58dfff[_0x8a6fe5(0x18a)](_0x8a6fe5(0x188));_0x3be9b2['onclick']=()=>handleKick(_0x2bf010),_0x40fc78[_0x8a6fe5(0x186)]=()=>handleBlock(_0x2bf010);}_0x2f4ebf['src']=_0x2bf010[_0x8a6fe5(0x1c3)],_0x459152[_0x8a6fe5(0x1a2)](_0x2eefc9),_0x1e1f86[_0x8a6fe5(0x1a2)](_0x58dfff);}),playersList[_0xc78126(0x1b6)]='',playersList[_0xc78126(0x1a2)](_0x1e1f86);},0x64);function renderBlockedPlayers(){const _0x3963c9=a0_0x68fa10,_0x1544e5=document[_0x3963c9(0x199)]('blockedList');_0x1544e5[_0x3963c9(0x1b6)]='<h3\x20class=\x22text-lg\x20font-semibold\x20mb-4\x20dark:text-white\x22>Người\x20chơi\x20bị\x20chặn</h3>';if(currentBlockedPlayers[_0x3963c9(0x195)]===0x0){const _0x2fa7bc=document[_0x3963c9(0x181)]('p');_0x2fa7bc[_0x3963c9(0x16b)]='text-gray-500\x20dark:text-gray-400',_0x2fa7bc[_0x3963c9(0x1b2)]=_0x3963c9(0x1c6),_0x1544e5[_0x3963c9(0x1a2)](_0x2fa7bc);}currentBlockedPlayers[_0x3963c9(0x1c0)](_0x591bcf=>{const _0x28e441=_0x3963c9,_0x35955f=blockedPlayerTemplate[_0x28e441(0x1dd)][_0x28e441(0x18f)](!![]);_0x35955f[_0x28e441(0x18a)](_0x28e441(0x1a6))[_0x28e441(0x1b2)]=_0x591bcf[_0x28e441(0x1a8)],_0x35955f[_0x28e441(0x18a)](_0x28e441(0x1ab))[_0x28e441(0x186)]=()=>handleUnblock(_0x591bcf),_0x1544e5[_0x28e441(0x1a2)](_0x35955f);});}async function handleKick(_0x3f11db){const _0x2c7c47=a0_0x68fa10,_0x58eb6f=firestoreDB[_0x2c7c47(0x1a5)](_0x2c7c47(0x16a))[_0x2c7c47(0x1a9)](auth[_0x2c7c47(0x1ac)]['uid']),_0x3b6a24=await _0x58eb6f[_0x2c7c47(0x178)](),_0x3de34f=_0x3b6a24[_0x2c7c47(0x1ae)]()['match'];await realtimeDB['ref'](_0x3de34f+'/games/player'+_0x3f11db['id'])[_0x2c7c47(0x1d8)]({'displayName':_0x2c7c47(0x18e),'uid':'','id':0x0});}async function handleBlock(_0x6709c1){const _0x133207=a0_0x68fa10,_0x4837da=firestoreDB[_0x133207(0x1a5)](_0x133207(0x16a))[_0x133207(0x1a9)](auth[_0x133207(0x1ac)][_0x133207(0x17b)]),_0x32b84e=await _0x4837da[_0x133207(0x178)](),_0x36629b=_0x32b84e[_0x133207(0x1ae)]()[_0x133207(0x16a)];await handleKick(_0x6709c1);const _0x191426=realtimeDB[_0x133207(0x1e2)](_0x36629b+'/Participant')['push']();await _0x191426[_0x133207(0x1d8)]({'displayName':_0x6709c1[_0x133207(0x1b4)],'uid':_0x6709c1['uid'],'requestStatus':0x3,'role':_0x133207(0x1be)});}function a0_0x19e5(){const _0x4a050a=['border\x20rounded\x20px-2\x20py-1\x20w-20\x20dark:bg-neutral-700\x20dark:text-white','users/','textContent','4982128WMvRKH','name','text-gray-500\x20dark:text-gray-400','innerHTML','/point/player','update','error','find','type','createDocumentFragment','users/profile.jpg','player','677601UyZrVV','forEach','points','text','image','/host','Đã\x20cập\x20nhật\x20thông\x20tin\x20người\x20chơi','Không\x20có\x20người\x20chơi\x20nào\x20bị\x20chặn','number','<h3\x20class=\x22text-lg\x20font-semibold\x20mb-4\x20dark:text-white\x22>Yêu\x20cầu\x20tham\x20gia</h3>','<h3\x20class=\x22text-lg\x20font-semibold\x20mb-4\x20dark:text-white\x22>Người\x20xem</h3>','CompetitionManagementHostName','/Participant/','.kick-viewer-button','block','key','map','replaceWith','64472QvsjyS','Error\x20unblocking\x20participant:','Error\x20updating\x20player\x20information:','addEventListener','Không\x20có\x20thông\x20tin\x20thay\x20đổi\x20để\x20cập\x20nhật.','imageUrl','MatchName','set','Error\x20handling\x20request:','.viewer-name','querySelectorAll','Error\x20blocking\x20viewer:','content','change','dataset','pendingRequestTemplate','.block-request-button','ref','Không\x20có\x20yêu\x20cầu\x20tham\x20gia\x20nào','warn','value','5FGaRqD','2215686cLEFXu','exists','match','className','3136650lONumI','Đã\x20xảy\x20ra\x20lỗi\x20khi\x20xử\x20lý\x20yêu\x20cầu','click','.player-actions','/profile.jpg','pendingRequestsList','getDownloadURL','point','Đã\x20chặn\x20người\x20chơi','requestStatus','.player-image','3253848YehDZc','get','/match','storage','uid','.competition-item','input','onSnapshot','reduce','push','createElement','catch','log','none','originalValue','onclick','Invalid\x20input\x20for\x20player\x20','.block-button','keys','querySelector','Đã\x20xảy\x20ra\x20lỗi\x20khi\x20chặn\x20người\x20xem','Đã\x20từ\x20chối\x20yêu\x20cầu','input[type=\x22number\x22]','N/A','cloneNode','553oTDiaq','.request-name','confirmButton','findIndex','/Participant','length','flex','Đã\x20kick\x20người\x20xem','blockedPlayerTemplate','getElementById','onAuthStateChanged','display','6040431EJHWAg','trim','Đã\x20chặn\x20người\x20xem','then','val','sort','appendChild','playerId','.deny-button','collection','.blocked-player-name','CompetitionManagementMatchName','displayName','doc','style','.unblock-button','currentUser','Đã\x20xảy\x20ra\x20lỗi\x20khi\x20cập\x20nhật\x20thông\x20tin\x20người\x20chơi.','data','playersList'];a0_0x19e5=function(){return _0x4a050a;};return a0_0x19e5();}async function handleUnblock(_0x38cff0){const _0xfeccdc=a0_0x68fa10;try{const _0x40ca1a=firestoreDB[_0xfeccdc(0x1a5)](_0xfeccdc(0x16a))[_0xfeccdc(0x1a9)](auth[_0xfeccdc(0x1ac)]['uid']),_0x1670e9=await _0x40ca1a[_0xfeccdc(0x178)](),_0x5c3099=_0x1670e9[_0xfeccdc(0x1ae)]()[_0xfeccdc(0x16a)];await realtimeDB[_0xfeccdc(0x1e2)](_0x5c3099+_0xfeccdc(0x1cb)+_0x38cff0['id'])['remove'](),successToast('Đã\x20bỏ\x20chặn\x20người\x20chơi');}catch(_0x35232f){console[_0xfeccdc(0x1b9)](_0xfeccdc(0x1d2),_0x35232f),failToast('Đã\x20xảy\x20ra\x20lỗi\x20khi\x20bỏ\x20chặn\x20người\x20chơi');}}editButton[a0_0x68fa10(0x1d4)](a0_0x68fa10(0x16e),()=>{const _0xee6948=a0_0x68fa10;isEditing=!![],editButton[_0xee6948(0x1aa)][_0xee6948(0x19b)]=_0xee6948(0x184),confirmButton['style'][_0xee6948(0x19b)]=_0xee6948(0x1cd),cachePlayerData(),renderPlayers();}),confirmButton['addEventListener'](a0_0x68fa10(0x16e),async()=>{const _0x57935a=a0_0x68fa10;try{const _0x601abb=firestoreDB[_0x57935a(0x1a5)]('match')[_0x57935a(0x1a9)](auth[_0x57935a(0x1ac)][_0x57935a(0x17b)]),_0x50177f=await _0x601abb[_0x57935a(0x178)](),_0x35a4d4=_0x50177f[_0x57935a(0x1ae)]()?.[_0x57935a(0x16a)];if(!_0x35a4d4){failToast('Không\x20tìm\x20thấy\x20thông\x20tin\x20trận\x20đấu.');return;}const _0x1b632f={},_0xfc3c1b=[],_0x2576ba=playersList[_0x57935a(0x1db)](_0x57935a(0x17c));for(const _0x2dd894 of _0x2576ba){const _0x41227e=_0x2dd894[_0x57935a(0x1df)][_0x57935a(0x1a3)],_0x46bd13=_0x2dd894[_0x57935a(0x18a)]('input[type=\x22text\x22]'),_0x30490d=_0x2dd894[_0x57935a(0x18a)](_0x57935a(0x18d));if(!_0x46bd13||!_0x30490d)continue;const _0x3a086b=_0x46bd13[_0x57935a(0x1e5)][_0x57935a(0x19d)](),_0x10a607=Number(_0x30490d[_0x57935a(0x1e5)]);if(!_0x3a086b||isNaN(_0x10a607)){console[_0x57935a(0x1e4)](_0x57935a(0x187)+_0x41227e+':',{'playerName':_0x3a086b,'playerPoints':_0x10a607});continue;}const _0x3a7ffc=_0x46bd13[_0x57935a(0x1df)][_0x57935a(0x185)],_0x3eadc0=Number(_0x30490d[_0x57935a(0x1df)][_0x57935a(0x185)]);_0x3a086b!==_0x3a7ffc&&(_0x1b632f[_0x35a4d4+'/games/player'+_0x41227e+'/displayName']=_0x3a086b,_0xfc3c1b[_0x57935a(0x180)]({'id':_0x41227e,'name':_0x3a086b,'points':_0x10a607})),_0x10a607!==_0x3eadc0&&(_0x1b632f[_0x35a4d4+_0x57935a(0x1b7)+_0x41227e]={'point':_0x10a607},_0xfc3c1b['push']({'id':_0x41227e,'name':_0x3a086b,'points':_0x10a607}));}if(Object[_0x57935a(0x189)](_0x1b632f)['length']===0x0){failToast(_0x57935a(0x1d5)),isEditing=![],editButton[_0x57935a(0x1aa)]['display']=_0x57935a(0x196),confirmButton[_0x57935a(0x1aa)][_0x57935a(0x19b)]=_0x57935a(0x184),renderPlayers();return;}await realtimeDB['ref']()[_0x57935a(0x1b8)](_0x1b632f),currentPlayers=currentPlayers[_0x57935a(0x1cf)](_0x118bb3=>{const _0x166edb=_0x57935a,_0x1371ad=_0xfc3c1b[_0x166edb(0x1ba)](_0x37eb20=>_0x37eb20['id']===_0x118bb3['id']);return _0x1371ad?{..._0x118bb3,..._0x1371ad}:_0x118bb3;}),isEditing=![],editButton['style'][_0x57935a(0x19b)]=_0x57935a(0x196),confirmButton[_0x57935a(0x1aa)][_0x57935a(0x19b)]=_0x57935a(0x184),lastKnownPlayerData={},successToast(_0x57935a(0x1c5)),renderPlayers();}catch(_0x3999d1){console['error'](_0x57935a(0x1d3),_0x3999d1),failToast(_0x57935a(0x1ad));}});function renderPendingRequests(){const _0x519cfd=a0_0x68fa10,_0x2b083d=document[_0x519cfd(0x199)](_0x519cfd(0x171));_0x2b083d[_0x519cfd(0x1b6)]=_0x519cfd(0x1c8);if(pendingRequests['length']===0x0){const _0x3974b4=document['createElement']('p');_0x3974b4[_0x519cfd(0x16b)]=_0x519cfd(0x1b5),_0x3974b4[_0x519cfd(0x1b2)]=_0x519cfd(0x1e3),_0x2b083d[_0x519cfd(0x1a2)](_0x3974b4);return;}pendingRequests[_0x519cfd(0x1c0)](_0x2c448e=>{const _0x5c190e=_0x519cfd;console[_0x5c190e(0x183)](_0x2c448e);const _0x26cd05=document[_0x5c190e(0x199)](_0x5c190e(0x1e0))[_0x5c190e(0x1dd)][_0x5c190e(0x18f)](!![]);_0x26cd05[_0x5c190e(0x18a)](_0x5c190e(0x191))[_0x5c190e(0x1b2)]=_0x2c448e['displayName'],_0x26cd05['querySelector']('.accept-button')[_0x5c190e(0x186)]=()=>handleRequest(_0x2c448e,0x1),_0x26cd05[_0x5c190e(0x18a)](_0x5c190e(0x1a4))[_0x5c190e(0x186)]=()=>handleRequest(_0x2c448e,0x2),_0x26cd05[_0x5c190e(0x18a)](_0x5c190e(0x1e1))['onclick']=()=>handleRequest(_0x2c448e,0x3),_0x2b083d['appendChild'](_0x26cd05);});}async function handleRequest(_0x282c5a,_0x4151e0){const _0x287534=a0_0x68fa10;try{const _0x2c5bcf=firestoreDB[_0x287534(0x1a5)](_0x287534(0x16a))[_0x287534(0x1a9)](auth[_0x287534(0x1ac)][_0x287534(0x17b)]),_0x38c076=await _0x2c5bcf[_0x287534(0x178)](),_0x53b201=_0x38c076[_0x287534(0x1ae)]()[_0x287534(0x16a)];await realtimeDB[_0x287534(0x1e2)](_0x53b201+_0x287534(0x1cb)+_0x282c5a['id'])['update']({'requestStatus':_0x4151e0});const _0x34ca85={0x1:'Đã\x20chấp\x20nhận\x20yêu\x20cầu',0x2:_0x287534(0x18c),0x3:_0x287534(0x174)};successToast(_0x34ca85[_0x4151e0]);}catch(_0x952aae){console[_0x287534(0x1b9)](_0x287534(0x1d9),_0x952aae),failToast(_0x287534(0x16d));}}